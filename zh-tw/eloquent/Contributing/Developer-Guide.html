

<!DOCTYPE html>
<html class="writer-html5" lang="zh-TW" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ROS 2 developer guide &mdash; ros2 documentation  說明文件</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="canonical" href="https://projects.localizethedocs.org/ros2-docs-l10n/Contributing/Developer-Guide.html" />
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=7da51243"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/translations.js?v=cbf116e0"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜尋" href="../search.html" />
    <link rel="next" title="Code style and language versions" href="Code-Style-Language-Versions.html" />
    <link rel="prev" title="ROS 2 on-boarding guide" href="ROS-2-On-boarding-Guide.html" />
 
<script type="text/javascript" src="../ltd-provenance.js"></script>
<script type="text/javascript" src="../ltd-current.js"></script>
<script type="text/javascript" src="../../../ltd-config.js"></script>
<script type="text/javascript" src="../../../ltd-flyout.js"></script>

</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ros2 documentation
              <img src="../_static/eloquent-small.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../Installation.html">安裝</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Linux-Development-Setup.html">Building ROS 2 on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Linux-Install-Binary.html">Installing ROS 2 on Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Linux-Install-Debians.html">Installing ROS 2 via Debian Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Development-Setup.html">Building ROS 2 on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/macOS-Install-Binary.html">Installing ROS 2 on macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Development-Setup.html">Building ROS 2 on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Windows-Install-Binary.html">Installing ROS 2 on Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Fedora-Development-Setup.html">Building ROS 2 on Fedora Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Latest-Development-Setup.html">Installing the latest ROS 2 development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Maintaining-a-Source-Checkout.html">Maintaining a source checkout of ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/Prerelease-Testing.html">Pre-release Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Installation/DDS-Implementations.html">Installing DDS implementations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-Security-Plugins.html">Installing Connext security plugins</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Install-Connext-University-Eval.html">Installing University or Evaluation versions of RTI Connext DDS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../Installation/DDS-Implementations/Working-with-Eclipse-CycloneDDS.html">Working with Eclipse Cyclone DDS</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Tutorials.html">教學</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Configuring-ROS2-Environment.html">Configuring your ROS 2 environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Turtlesim/Introducing-Turtlesim.html">Introducing turtlesim and rqt</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Nodes.html">Understanding ROS 2 nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Topics/Understanding-ROS2-Topics.html">Understanding ROS 2 topics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Services/Understanding-ROS2-Services.html">Understanding ROS 2 services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Parameters/Understanding-ROS2-Parameters.html">Understanding ROS 2 parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Understanding-ROS2-Actions.html">Understanding ROS 2 actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rqt-Console/Using-Rqt-Console.html">Using rqt_console</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch-Files/Creating-Launch-Files.html">Creating a launch file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Recording-And-Playing-Back-Data.html">Recording and playing back data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Workspace/Creating-A-Workspace.html">Creating a workspace</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Creating-Your-First-ROS2-Package.html">Creating your first ROS 2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Publisher-And-Subscriber.html">Writing a simple publisher and subscriber (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Cpp-Service-And-Client.html">Writing a simple service and client (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Writing-A-Simple-Py-Service-And-Client.html">Writing a simple service and client (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Custom-ROS2-Interfaces.html">Creating custom ROS 2 msg and srv files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Single-Package-Define-And-Use-Interface.html">Expanding on ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-CPP.html">Using parameters in a class (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Using-Parameters-In-A-Class-Python.html">Using parameters in a class (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Getting-Started-With-Ros2doctor.html">Getting started with ros2doctor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Creating-an-Action.html">Creating an action</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Cpp-Action-Server-Client.html">Writing an action server and client (C++)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Actions/Writing-a-Py-Action-Server-Client.html">Writing an action server and client (Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Developing-a-ROS-2-Package.html">Developing a ROS 2 package</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Colcon-Tutorial.html">Using colcon to build packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ament-CMake-Documentation.html">ament_cmake 使用者文件</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch-system.html">Launching/monitoring multiple nodes with Launch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Node-arguments.html">Passing ROS arguments to nodes via the command-line</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Introspection-with-command-line-tools.html">Introspection with command line tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/RQt-Overview-Usage.html">Overview and usage of RQt</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../Tutorials/RQt-Source-Install.html">Building RQt from source</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/RQt-Source-Install-MacOS.html">Building RQt from source on macOS</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Tutorials/RQt-Source-Install-Windows10.html">Building RQt from source on Windows 10</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Composition.html">Composing multiple nodes in a single process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Ros2bag/Overriding-QoS-Policies-For-Recording-And-Playback.html">Overriding QoS Policies For Recording And Playback</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Sync-Vs-Async.html">Synchronous vs. asynchronous service clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Working-with-multiple-RMW-implementations.html">Working with multiple ROS 2 middleware implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/catment.html">On the mixing of ament and catkin (catment)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Cross-compilation.html">交叉編譯</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Allocator-Template-Tutorial.html">Implement a custom memory allocator</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Releasing-a-ROS-2-package-with-bloom.html">Releasing a ROS 2 package with bloom</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/RQt-Port-Plugin-Windows.html">Porting RQt plugins to Windows</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Run-2-nodes-in-a-single-docker-container.html">Running 2 nodes in a single docker container [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Run-2-nodes-in-two-separate-docker-containers.html">Running 2 nodes in 2 separate docker containers [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Deploying-ROS-2-on-IBM-Cloud.html">ROS2 on IBM Cloud Kubernetes [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Launch-files-migration-guide.html">Migrating launch files from ROS 1 to ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Eclipse-Oxygen-with-ROS-2-and-rviz2.html">Eclipse Oxygen with ROS 2 and rviz2 [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-ROS-2-on-Linux-with-Eclipse-Oxygen.html">Building ROS 2 on Linux with Eclipse Oxygen [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Building-Realtime-rt_preempt-kernel-for-ROS-2.html">Building realtime Linux for ROS 2 [community-contributed]</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Parameters-YAML-files-migration-guide.html">Migrating YAML parameter files from ROS 1 to ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Quality-of-Service.html">Use quality-of-service settings to handle lossy networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Managed-Nodes.html">Management of nodes with managed lifecycles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Intra-Process-Communication.html">Efficient intra-process communication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Rosbag-with-ROS1-Bridge.html">Recording and playback of topic data with rosbag using the ROS 1 bridge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/tf2.html">Using tf2 with ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/URDF/Using-URDF-with-Robot-State-Publisher.html">Using URDF with robot_state_publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Real-Time-Programming.html">Real-time programming in ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/dummy-robot-demo.html">Trying the dummy robot demo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Tutorials/Logging-and-logger-configuration.html">Logging and logger configuration demo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Concepts.html">概念</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/DDS-and-ROS-middleware-implementations.html">About different ROS 2 DDS/RTPS vendors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-Quality-of-Service-Settings.html">About Quality of Service settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-Interfaces.html">About ROS 2 interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/ROS-2-Client-Libraries.html">About ROS 2 client libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/Logging.html">About logging and logger configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Concepts/About-ROS-2-Parameters.html">About parameters in ROS 2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Troubleshooting.html">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/Installation-Troubleshooting.html">安裝疑難排解</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Troubleshooting/DDS-tuning.html">DDS tuning information</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../Contributing.html">Contributing</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="ROS-2-On-boarding-Guide.html">ROS 2 on-boarding guide</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">ROS 2 developer guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="Code-Style-Language-Versions.html">Code style and language versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="Design-Guide.html">Design guide: common patterns in ROS 2</a></li>
<li class="toctree-l2"><a class="reference internal" href="Quality-Guide.html">Quality guide: ensuring code quality</a></li>
<li class="toctree-l2"><a class="reference internal" href="Build-Cop-and-Build-Farmer-Guide.html">Build cop and build farmer guide</a><ul>
<li class="toctree-l3"><a class="reference internal" href="CI-Server-Setup.html">How to setup the Jenkins master</a></li>
<li class="toctree-l3"><a class="reference internal" href="Set-up-a-new-Linux-CI-node.html">How to setup Linux Jenkins nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="Set-up-a-new-macOS-CI-node.html">How to setup a macOS Jenkins node</a></li>
<li class="toctree-l3"><a class="reference internal" href="Set-up-a-new-Windows-CI-node.html">How to setup a Windows Jenkins node</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Migration-Guide.html">Migration guide from ROS 1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Migration-Guide-Python.html">Python migration guide from ROS 1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Examples-and-Tools-for-ROS1----ROS2-Migrations.html">Examples and tools for ROS1-to-ROS2 migration</a></li>
<li class="toctree-l2"><a class="reference internal" href="Inter-Sphinx-Support.html">Using Sphinx for cross-referencing packages</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Contact.html">聯絡</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ROSCon-Content.html">ROSCon Content</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Releases.html">散布版</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Alpha-Overview.html">ROS 2 alpha releases (Aug 2015 - Oct 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta1-Overview.html">Beta 1 (codename 'Asphalt'; December 2016)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta2-Overview.html">Beta 2 (codename 'r2b2'; July 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Beta3-Overview.html">Beta 3 (codename 'r2b3'; September 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Ardent-Apalone.html">ROS 2 Ardent Apalone (codename 'ardent'; December 2017)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Bouncy-Bolson.html">ROS 2 Bouncy Bolson (codename 'bouncy'; June 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Crystal-Clemmys.html">ROS 2 Crystal Clemmys (codename 'crystal'; December 2018)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Dashing-Diademata.html">ROS 2 Dashing Diademata (codename 'dashing'; May 31st, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Eloquent-Elusor.html">ROS 2 Eloquent Elusor (codename 'eloquent'; November 22nd, 2019)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Foxy-Fitzroy.html">ROS 2 Foxy Fitzroy (codename 'foxy'; June 5th, 2020)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Galactic-Geochelone.html">ROS 2 Galactic Geochelone (codename 'galactic'; May, 2021)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Howto.html">How to release</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Releases/Release-Rolling-Ridley.html">ROS 2 Rolling Ridley (codename 'rolling'; June 2020)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Features.html">Features Status</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Feature-Ideas.html">Feature Ideas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Governance.html">Project Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Marketing.html">Marketing Materials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Related-Projects.html">相關專案</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../Related-Projects/Intel-ROS2-Projects.html">Intel ROS 2 Projects</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ros2 documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../Contributing.html">Contributing</a></li>
      <li class="breadcrumb-item active">ROS 2 developer guide</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/ros2/ros2_documentation/blob/rolling/source/Contributing/Developer-Guide.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             

  
  
  
  <p>
    <strong>
      
      <div class="admonition warning">
        <p class="admonition-title">警告</p>
        <p>
          您正在閱讀已達到生命週期結束（end-of-life，EOL）版本的 ROS 2 文件，該版本不再正式受支援。如果您想獲取最新資訊，請參見 <a href="../../../zh-tw/kilted/index.html">Kilted</a>。
        </p>
      </div>
      
    </strong>
  </p>


  <section id="ros-2-developer-guide">
<h1>ROS 2 developer guide<a class="headerlink" href="#ros-2-developer-guide" title="連結到這個標頭"></a></h1>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">目次表</p>
<ul class="simple">
<li><p><a class="reference internal" href="#general-principles" id="id1">General Principles</a></p></li>
<li><p><a class="reference internal" href="#quality-practices" id="id2">Quality Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#versioning" id="id3">Versioning</a></p></li>
<li><p><a class="reference internal" href="#change-control-process" id="id4">Change control process</a></p></li>
<li><p><a class="reference internal" href="#documentation" id="id5">Documentation</a></p></li>
<li><p><a class="reference internal" href="#testing" id="id6">測試</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#general-practices" id="id7">General Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#issues" id="id8">議題</a></p></li>
<li><p><a class="reference internal" href="#pull-requests" id="id9">拉取請求</a></p></li>
<li><p><a class="reference internal" href="#library-versioning" id="id10">Library versioning</a></p></li>
<li><p><a class="reference internal" href="#development-process" id="id11">Development process</a></p></li>
<li><p><a class="reference internal" href="#changes-to-rmw-api" id="id12">Changes to RMW API</a></p></li>
<li><p><a class="reference internal" href="#tracking-tasks" id="id13">Tracking tasks</a></p></li>
<li><p><a class="reference internal" href="#programming-conventions" id="id14">Programming conventions</a></p></li>
<li><p><a class="reference internal" href="#filesystem-layout" id="id15">Filesystem layout</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#aspirational-practices" id="id16">Aspirational Practices</a></p>
<ul>
<li><p><a class="reference internal" href="#software-development-lifecycle" id="id17">Software Development Lifecycle</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>This page defines the practices and policies we employ when developing ROS 2.</p>
<section id="general-principles">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">General Principles</a><a class="headerlink" href="#general-principles" title="連結到這個標頭"></a></h2>
<p>Some principles are common to all ROS 2 development:</p>
<ul class="simple">
<li><p><strong>Shared ownership</strong>:
Everybody working on ROS 2 should feel ownership over all parts of the system.
The original author of a chunk of code does not have any special permission or obligation to control or maintain that chunk of code.
Everyone is free to propose changes anywhere, to handle any type of ticket, and to review any pull request.</p></li>
<li><p><strong>Be willing to work on anything</strong>:
As a corollary to shared ownership, everybody should be willing to take on any available task and contribute to any aspect of the system.</p></li>
<li><p><strong>Ask for help</strong>:
If you run into trouble on something, ask your fellow developers for help, via tickets, comments, or email, as appropriate.</p></li>
</ul>
</section>
<section id="quality-practices">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Quality Practices</a><a class="headerlink" href="#quality-practices" title="連結到這個標頭"></a></h2>
<p>Packages can ascribe to different levels of quality based on the development practices they adhere to, as per the guidelines in <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004: Package Quality Categories</a>.
The categories are differentiated by their policies on versioning, testing, documentation, and more.</p>
<p>The following sections are the specific development rules we follow to ensure core packages are of the highest quality ('Level 1').
We recommend all ROS developers strive to adhere to the following policies to ensure quality across the ROS ecosystem.</p>
<section id="versioning">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">Versioning</a><a class="headerlink" href="#versioning" title="連結到這個標頭"></a></h3>
<p>We will use the <a class="reference external" href="http://semver.org/">Semantic Versioning guidelines</a> (<code class="docutils literal notranslate"><span class="pre">semver</span></code>) for versioning.</p>
<p>We will also adhere to some ROS-specific rules built on top of <code class="docutils literal notranslate"><span class="pre">semver's</span></code> full meaning:</p>
<ul class="simple">
<li><p>Major version increments (i.e. breaking changes) should not be made within a released ROS distribution.</p>
<ul>
<li><p>Patch (interface-preserving) and minor (non-breaking) version increments do not break compatibility, so these sorts of changes <em>are</em> allowed within a release.</p></li>
<li><p>Major ROS releases are the best time to release breaking changes.
If a core package needs multiple breaking changes, they should be merged into their integration branch (e.g. master) to allow catching problems in CI quickly, but released together to reduce the number of major releases for ROS users.</p></li>
<li><p>Though major increments require a new distribution, a new distribution does not necessarily require a major bump (if development and release can happen without breaking API).</p></li>
</ul>
</li>
<li><p>For compiled code, the ABI is considered part of the public interface.
Any change that requires recompiling dependent code is considered major (breaking).</p>
<ul>
<li><p>ABI breaking changes <em>can</em> be made in a minor version bump <em>before</em> a distribution release (getting added to the rolling release).</p></li>
</ul>
</li>
<li><p>We enforce API stability for core packages in Dashing and Eloquent even though their major version components are <code class="docutils literal notranslate"><span class="pre">0</span></code>, despite <a class="reference external" href="https://semver.org/#spec-item-4">SemVer's specification</a> regarding initial development.</p>
<ul>
<li><p>Subsequently, packages should strive to reach a mature state and increase to version <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code> so to match <code class="docutils literal notranslate"><span class="pre">semver's</span></code> specifications.</p></li>
</ul>
</li>
</ul>
<section id="caveats">
<h4>Caveats<a class="headerlink" href="#caveats" title="連結到這個標頭"></a></h4>
<p>These rules are <em>best-effort</em>.
In unlikely, extreme cases, it may be necessary to break API within a major version/distribution.
Whether an unplanned break increments the major or minor version will be assessed on a case-by-case basis.</p>
<p>For example, consider a situation involving released X-turtle, corresponding to major version <code class="docutils literal notranslate"><span class="pre">1.0.0</span></code>, and released Y-turtle, corresponding to major version <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code>.</p>
<p>If an API-breaking fix is identified to be absolutely necessary in X-turtle, bumping to <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> is obviously not an option because <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code> already exists.</p>
<p>The solutions for handling X-turtle's version in such a case, both non-ideal, are:</p>
<ol class="arabic simple">
<li><p>Bumping X-turtle's minor version: non-ideal because it violates SemVer's principle that breaking changes must bump the major version.</p></li>
<li><p>Bumping X-turtle's major version past Y-turtle (to <code class="docutils literal notranslate"><span class="pre">3.0.0</span></code>): non-ideal because the older distro's version would become higher than the already-available version of a newer distro, which would invalidate/break version-specific conditional code.</p></li>
</ol>
<p>The developer will have to decide which solution to use, or more importantly, which principle they are willing to break.
We cannot suggest one or the other, but in either case we do require that explicit measures be taken to communicate the disruption and its explanation to users manually (beyond just the version increment).</p>
<p>If there were no Y-turtle, even though the fix would technically just be a patch, X-turtle would have to bump to <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code>.
This case adheres to SemVer, but breaks from our own rule that major increments should not be introduced in a released distribution.</p>
<p>This is why we consider the versioning rules <em>best-effort</em>.
As unlikely as the examples above are, it is important to accurately define our versioning system.</p>
</section>
<section id="public-api-declaration">
<h4>Public API declaration<a class="headerlink" href="#public-api-declaration" title="連結到這個標頭"></a></h4>
<p>According to <code class="docutils literal notranslate"><span class="pre">semver</span></code>, every package must clearly declare a public API.
We will use the &quot;Public API Declaration&quot; section of the quality declaration of a package to declare what symbols are part of the public API.</p>
<p>For most C and C++ packages the declaration is any header that it installs.
However, it is acceptable to define a set of symbols which are considered private.
Avoiding private symbols in headers can help with ABI stability, but is not required.</p>
<p>For other languages like Python, a public API must be explicitly defined, so that it is clear what symbols can be relied on with respect to the versioning guidelines.
The public API can also be extended to build artifacts like configuration variables, CMake config files, etc. as well as executables and command-line options and output.
Any elements of the public API should be clearly stated in the package's documentation.
If something you are using is not explicitly listed as part of the public API in the package's documentation, then you cannot depend on it not changing between minor or patch versions.</p>
</section>
<section id="deprecation-strategy">
<h4>Deprecation strategy<a class="headerlink" href="#deprecation-strategy" title="連結到這個標頭"></a></h4>
<p>Where possible, we will also use the tick-tock deprecation and migration strategy for major version increments.
New deprecations will come in a new distribution release, accompanied by compiler warnings expressing that the functionality is being deprecated.
In the next release, the functionality will be completely removed (no warnings).</p>
<p>Example of function <code class="docutils literal notranslate"><span class="pre">foo</span></code> deprecated and replaced by function <code class="docutils literal notranslate"><span class="pre">bar</span></code>:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Version</p></th>
<th class="head"><p>API</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>X-turtle</p></td>
<td><p>void foo();</p></td>
</tr>
<tr class="row-odd"><td><p>Y-turtle</p></td>
<td><p>[[deprecated(&quot;use bar()&quot;)]] void foo(); &lt;br&gt; void bar();</p></td>
</tr>
<tr class="row-even"><td><p>Z-turtle</p></td>
<td><p>void bar();</p></td>
</tr>
</tbody>
</table>
<p>We must not add deprecations after a distribution is released.
Deprecations do not necessarily require a major version bump, though.
A deprecation can be introduced in a minor version bump if the bump happens before the distro is released (similar to ABI breaking changes).</p>
<p>For example, if X-turtle begins development as <code class="docutils literal notranslate"><span class="pre">2.0.0</span></code>, a deprecation can be added in <code class="docutils literal notranslate"><span class="pre">2.1.0</span></code> before X-turtle is released.</p>
<p>We will attempt to maintain compatibility across distros as much as possible.
However, like the caveats associated with SemVer, tick-tock or even deprecation in general may be impossible to completely adhere to in certain cases.</p>
</section>
</section>
<section id="change-control-process">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Change control process</a><a class="headerlink" href="#change-control-process" title="連結到這個標頭"></a></h3>
<ul class="simple">
<li><p>All changes must go through a pull request.</p></li>
<li><p>We will enforce the <a class="reference external" href="https://developercertificate.org/">Developer Certificate of Origin (DCO)</a> on pull requests in ROSCore repositories.</p>
<ul>
<li><p>It requires all commit messages to contain the <code class="docutils literal notranslate"><span class="pre">Signed-off-by</span></code> line with an email address that matches the commit author.</p></li>
<li><p>You can pass <code class="docutils literal notranslate"><span class="pre">-s</span></code> / <code class="docutils literal notranslate"><span class="pre">--signoff</span></code> to the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span></code> invocation or write the expected message manually (e.g. <code class="docutils literal notranslate"><span class="pre">Signed-off-by:</span> <span class="pre">Your</span> <span class="pre">Name</span> <span class="pre">Developer</span> <span class="pre">&lt;your.name&#64;example.com&gt;</span></code>).</p></li>
<li><p>DCO is <em>not</em> required for pull requests that only address whitespace removal, typo correction, and other <a class="reference external" href="http://cr.openjdk.java.net/~jrose/draft/trivial-fixes.html">trivial changes</a>.</p></li>
</ul>
</li>
<li><p>Always run CI jobs for all <a class="reference external" href="https://www.ros.org/reps/rep-2000.html#support-tiers">tier 1 platforms</a> for every pull request and include links to jobs in the pull request.
(If you don't have access to the Jenkins jobs someone will trigger the jobs for you.)</p></li>
<li><p>A minimum of 1 approval from a fellow developer who did not author the pull request is required to consider it approved.
Approval is required before merging.</p>
<ul>
<li><p>Packages may choose to increase this number.</p></li>
</ul>
</li>
<li><p>Any required changes to documentation (API documentation, feature documentation, release notes, etc.) must be proposed before merging related changes.</p></li>
</ul>
<section id="guidelines-for-backporting-prs">
<h4>Guidelines for backporting PRs<a class="headerlink" href="#guidelines-for-backporting-prs" title="連結到這個標頭"></a></h4>
<p>When changing an older version of ROS:</p>
<ul class="simple">
<li><p>Make sure the features or fixes are accepted and merged in the master branch before opening a PR to backport the changes to older versions.</p></li>
<li><p>When backporting to older versions, also backport to any [newer, still supported versions](<a class="reference external" href="https://index.ros.org/doc/ros2/Releases/">https://index.ros.org/doc/ros2/Releases/</a>), even non-LTS versions.</p></li>
<li><p>If you are backporting a single PR in its entirety, title the backport PR &quot;[Distro] &lt;name of original PR&gt;&quot;.
If backporting a subset of changes from one or multiple PRs, the title should be &quot;[Distro] &lt;description of changes&gt;&quot;.</p></li>
<li><p>Link to all PRs whose changes you're backporting from the description of your backport PR.
In a Dashing backport of a Foxy change, you do not need to link to the Eloquent backport of the same change.</p></li>
</ul>
</section>
</section>
<section id="documentation">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Documentation</a><a class="headerlink" href="#documentation" title="連結到這個標頭"></a></h3>
<p>All packages should have these documentation elements present in their README or linked to from their README:</p>
<ul class="simple">
<li><p>Description and purpose</p></li>
<li><p>Definition and description of the public API</p></li>
<li><p>Examples</p></li>
<li><p>How to build and install (should reference external tools/workflows)</p></li>
<li><p>How to build and run tests</p></li>
<li><p>How to build documentation</p></li>
<li><p>How to develop (useful for describing things like <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>)</p></li>
<li><p>License and copyright statements</p></li>
</ul>
<p>Each source file must have a license and copyright statement, checked with an automated linter.</p>
<p>Each package must have a LICENSE file, typically the Apache 2.0 license, unless the package has an existing permissive license (e.g. rviz uses three-clause BSD).</p>
<p>Each package should describe itself and its purpose assuming, as much as possible, that the reader has stumbled onto it without previous knowledge of ROS or other related projects.</p>
<p>Each package should define and describe its public API so that there is a reasonable expectation for users about what is covered by the semantic versioning policy.
Even in C and C++, where the public API can be enforced by API and ABI checking, it is a good opportunity to describe the layout of the code and the function of each part of the code.</p>
<p>It should be easy to take any package and from that package's documentation understand how to build, run, build and run tests, and build the documentation.
Obviously we should avoid repeating ourselves for common workflows, like building a package in a workspace, but the basic workflows should be either described or referenced.</p>
<p>Finally, it should include any documentation for developers.
This might include workflows for testing the code using something like <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">develop</span></code>, or it might mean describing how to make use of extension points provided by your package.</p>
<p>Examples:</p>
<ul class="simple">
<li><p>capabilities: <a class="reference external" href="https://docs.ros.org/hydro/api/capabilities/html/">https://docs.ros.org/hydro/api/capabilities/html/</a></p>
<ul>
<li><p>This one gives an example of docs which describe the public API</p></li>
</ul>
</li>
<li><p>catkin_tools: <a class="reference external" href="https://catkin-tools.readthedocs.org/en/latest/development/extending_the_catkin_command.html">https://catkin-tools.readthedocs.org/en/latest/development/extending_the_catkin_command.html</a></p>
<ul>
<li><p>This is an example of describing an extension point for a package</p></li>
</ul>
</li>
</ul>
<p><em>(API docs are not yet being automatically generated)</em></p>
</section>
<section id="testing">
<h3><a class="toc-backref" href="#id6" role="doc-backlink">測試</a><a class="headerlink" href="#testing" title="連結到這個標頭"></a></h3>
<p>All packages should have some level of system, integration, and/or unit tests.</p>
<p><strong>Unit tests</strong> should always be in the package which is being tested and should make use of tools like <code class="docutils literal notranslate"><span class="pre">Mock</span></code> to try and test narrow parts of the code base in constructed scenarios.
Unit tests should not bring in test dependencies that are not testing tools, e.g. gtest, nosetest, pytest, mock, etc...</p>
<p><strong>Integration tests</strong> can test interactions between parts of the code or between parts of the code and the system.
They often test software interfaces in ways that we expect the user to use them.
Like Unit tests, Integration tests should be in the package which is being tested and should not bring in non-tool test dependencies unless absolutely necessary, i.e. all non-tool dependencies should only be allowed under extreme scrutiny so they should be avoided if possible.</p>
<p><strong>System tests</strong> are designed to test end-to-end situations between packages and should be in their own packages to avoid bloating or coupling packages and to avoid circular dependencies.</p>
<p>In general minimizing external or cross package test dependencies should be avoided to prevent circular dependencies and tightly coupled test packages.</p>
<p>All packages should have some unit tests and possibly integration tests, but the degree to which they should have them is based on the package's quality category.
The following subsections apply to 'Level 1' packages:</p>
<section id="code-coverage">
<h4>Code coverage<a class="headerlink" href="#code-coverage" title="連結到這個標頭"></a></h4>
<p>We will provide line coverage, and achieve line coverage above 95%.
If a lower percentage target is justifiable, it must be prominently documented.
We may provide branch coverage, or exclude code from coverage (test code, debug code, etc.).
We require that coverage increase or stay the same before merging a change, but it may be acceptable to make a change that decreases code coverage with proper justification (e.g. deleting code that was previously covered can cause the percentage to drop).</p>
</section>
<section id="performance">
<h4>Performance<a class="headerlink" href="#performance" title="連結到這個標頭"></a></h4>
<p>We strongly recommend performance tests, but recognize they don't make sense for some packages.
If there are performance tests, we will choose to either check each change or before each release or both.
We will also require justification for merging a change or making a release that lowers performance.</p>
</section>
<section id="linters-and-static-analysis">
<h4>Linters and static analysis<a class="headerlink" href="#linters-and-static-analysis" title="連結到這個標頭"></a></h4>
<p>We will use <a class="reference internal" href="Code-Style-Language-Versions.html#codestyle"><span class="std std-ref">ROS code style</span></a> and enforce it with linters from <a class="reference external" href="https://github.com/ament/ament_lint/tree/master/ament_lint_common/doc/index.rst">ament_lint_common</a>.
All linters/static analysis that are part of <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code> must be used.</p>
<p>The <a class="reference external" href="https://github.com/ament/ament_lint/blob/master/ament_lint_auto/doc/index.rst">ament_lint_auto</a> documentation provides information on running <code class="docutils literal notranslate"><span class="pre">ament_lint_common</span></code>.</p>
</section>
</section>
</section>
<section id="general-practices">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">General Practices</a><a class="headerlink" href="#general-practices" title="連結到這個標頭"></a></h2>
<p>Some practices are common to all ROS 2 development.</p>
<p>These practices don't affect package quality level as described in <a class="reference external" href="https://www.ros.org/reps/rep-2004.html">REP 2004</a>, but are still highly recommended for the development process.</p>
<section id="issues">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">議題</a><a class="headerlink" href="#issues" title="連結到這個標頭"></a></h3>
<p>When filing an issue please make sure to:</p>
<ul class="simple">
<li><p>Include enough information for another person to understand the issue.
In ROS 2, the following points are needed for narrowing down the cause of an issue.
Testing with as many alternatives in each category as feasible will be especially helpful.</p>
<ul>
<li><p><strong>The operating system and version.</strong>
Reasoning: ROS 2 supports multiple platforms, and some bugs are specific to particular versions of operating systems/compilers.</p></li>
<li><p><strong>The installation method.</strong>
Reasoning: Some issues only manifest if ROS 2 has been installed from &quot;fat archives&quot; or from Debians.
This can help us determine if the issue is with the packaging process.</p></li>
<li><p><strong>The specific version of ROS 2.</strong>
Reasoning: Some bugs may be present in a particular ROS 2 release and later fixed.
It is important to know if your installation includes these fixes.</p></li>
<li><p><strong>The DDS/RMW implementation being used</strong> (see <a class="reference internal" href="../Tutorials/Working-with-multiple-RMW-implementations.html"><span class="doc">this page</span></a> for how to determine which one).
Reasoning: Communication issues may be specific to the underlying ROS middleware being used.</p></li>
<li><p><strong>The ROS 2 client library being used.</strong>
Reasoning: This helps us narrow down the layer in the stack at which the issue might be.</p></li>
</ul>
</li>
<li><p>Include a list of steps to reproduce the issue.</p></li>
<li><p>In case of a bug consider to provide a <a class="reference external" href="http://sscce.org/">short, self contained, correct (compilable), example</a>.
Issues are much more likely to be resolved if others can reproduce them easily.</p></li>
<li><p>Mention troubleshooting steps that have been tried already, including:</p>
<ul>
<li><p>Upgrading to the latest version of the code, which may include bug fixes that have not been released yet.
See <a class="reference internal" href="../Installation.html#building-from-source"><span class="std std-ref">this section</span></a> and follow the instructions to get the &quot;master&quot; branches.</p></li>
<li><p>Trying with a different RMW implementation.
See <a class="reference internal" href="../Tutorials/Working-with-multiple-RMW-implementations.html"><span class="doc">this page</span></a> for how to do that.</p></li>
</ul>
</li>
</ul>
</section>
<section id="pull-requests">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">拉取請求</a><a class="headerlink" href="#pull-requests" title="連結到這個標頭"></a></h3>
<ul class="simple">
<li><p>A pull request should only focus on one change.
Separate changes should go into separate pull requests.
See <a class="reference external" href="https://github.com/blog/1943-how-to-write-the-perfect-pull-request">GitHub's guide to writing the perfect pull request</a>.</p></li>
<li><p>A patch should be minimal in size and avoid any kind of unnecessary changes.</p></li>
<li><p>A pull request must contain minimum number of meaningful commits.</p>
<ul>
<li><p>You can create new commits while the pull request is under review.</p></li>
</ul>
</li>
<li><p>Before merging a pull request all changes should be squashed into a small number of semantic commits to keep the history clear.</p>
<ul>
<li><p>But avoid squashing commits while a pull request is under review.
Your reviewers might not notice that you made the change, thereby introducing potential for confusion.
Plus, you're going to squash before merging anyway; there's no benefit to doing it early.</p></li>
</ul>
</li>
<li><p>Any developer is welcome to review and approve a pull request (see <a class="reference internal" href="#general-principles">General Principles</a>).</p></li>
<li><p>When you start reviewing a pull request, comment on the pull request so that other developers know that you're reviewing it.</p></li>
<li><p>Pull-request review is not read-only, with the reviewer making comments and then waiting for the author to address them.
As a reviewer, feel free to make minor improvements (typos, style issues, etc.) in-place.
As the opener of a pull-request, if you are working in a fork, checking the box to <a class="reference external" href="https://github.com/blog/2247-improving-collaboration-with-forks">allow edits from upstream contributors</a> will assist with the aforementioned.
As a reviewer, also feel free to make more substantial improvements, but consider putting them in a separate branch (either mention the new branch in a comment, or open another pull request from the new branch to the original branch).</p></li>
<li><p>Any developer (the author, the reviewer, or somebody else) can merge any approved pull request.</p></li>
</ul>
</section>
<section id="library-versioning">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Library versioning</a><a class="headerlink" href="#library-versioning" title="連結到這個標頭"></a></h3>
<p>We will version all libraries within a package together.
This means that libraries inherit their version from the package.
This keeps library and package versions from diverging and shares reasoning with the policy of releasing packages which share a repository together.
If you need libraries to have different versions then consider splitting them into different packages.</p>
</section>
<section id="development-process">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Development process</a><a class="headerlink" href="#development-process" title="連結到這個標頭"></a></h3>
<ul class="simple">
<li><p>The default branch (in most cases the master branch) must always build, pass all tests and compile without warnings.
If at any time there is a regression it is the top priority to restore at least the previous state.</p></li>
<li><p>Always build with tests enabled.</p></li>
<li><p>Always run tests locally after changes and before proposing them in a pull request.
Besides using automated tests, also run the modified code path manually to ensure that the patch works as intended.</p></li>
<li><p>Always run CI jobs for all platforms for every pull request and include links to the jobs in the pull request.</p></li>
</ul>
<p>For more details on recommended software development workflow, see <a class="reference internal" href="#software-development-lifecycle">Software Development Lifecycle</a> section.</p>
</section>
<section id="changes-to-rmw-api">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Changes to RMW API</a><a class="headerlink" href="#changes-to-rmw-api" title="連結到這個標頭"></a></h3>
<p>When updating <a class="reference external" href="https://github.com/ros2/rmw">RMW API</a>, it is required that RMW implementations for the Tier 1 middleware libraries are updated as well.
For example, a new function <code class="docutils literal notranslate"><span class="pre">rmw_foo()</span></code> introduced to the RMW API must be implemented in the following packages (as of ROS Foxy):</p>
<ul class="simple">
<li><p><a class="reference external" href="https://github.com/ros2/rmw_fastrtps">rmw_fastrtps</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_connext">rmw_connext</a></p></li>
<li><p><a class="reference external" href="https://github.com/ros2/rmw_cyclonedds">rmw_cyclonedds</a></p></li>
</ul>
<p>Updates for non-Tier 1 middleware libraries should also be considered if feasible (e.g. depending on the size of the change).
See <a class="reference external" href="https://www.ros.org/reps/rep-2000.html#crystal-clemmys-december-2018-december-2019">REP-2000</a> for the list of middleware libraries and their tiers.</p>
</section>
<section id="tracking-tasks">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Tracking tasks</a><a class="headerlink" href="#tracking-tasks" title="連結到這個標頭"></a></h3>
<p>To help organize work on ROS 2, the core ROS 2 development team uses kanban-style <a class="reference external" href="https://github.com/orgs/ros2/projects">GitHub project boards</a>.</p>
<p>Not all issues and pull requests are tracked on the project boards, however.
A board usually represents an upcoming release or specific project.
Tickets can be browsed on a per-repo basis by browsing the <a class="reference external" href="https://github.com/ros2">ROS 2 repositories'</a> individual issue pages.</p>
<p>The names and purposes of columns in any given ROS 2 project board vary, but typically follow the same general structure:</p>
<ul class="simple">
<li><p><strong>To do</strong>:
Issues that are relevant to the project, ready to be assigned</p></li>
<li><p><strong>In progress</strong>:
Active pull requests on which work is currently in progress</p></li>
<li><p><strong>In review</strong>:
Pull requests where work is complete and ready for review, and for those currently under active review</p></li>
<li><p><strong>Done</strong>:
Pull requests and related issues are merged/closed (for informational purposes)</p></li>
</ul>
<p>To request permission to make changes, simply comment on the tickets you're interested in.
Depending on the complexity, it might be useful to describe how you plan to address it.
We will update the status (if you don't have the permission) and you can start working on a pull request.
If you contribute regularly we will likely just grant you permission to manage the labels etc. yourself.</p>
</section>
<section id="programming-conventions">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Programming conventions</a><a class="headerlink" href="#programming-conventions" title="連結到這個標頭"></a></h3>
<ul class="simple">
<li><p>Defensive programming: ensure that assumptions are held as early as possible.
E.g. check every return code and make sure to at least throw an exception until the case is handled more gracefully.</p></li>
<li><p>All error messages must be directed to <code class="docutils literal notranslate"><span class="pre">stderr</span></code>.</p></li>
<li><p>Declare variables in the narrowest scope possible.</p></li>
<li><p>Keep group of items (dependencies, imports, includes, etc.) ordered alphabetically.</p></li>
</ul>
<section id="c-specific">
<h4>C++ specific<a class="headerlink" href="#c-specific" title="連結到這個標頭"></a></h4>
<ul class="simple">
<li><p>Avoid using direct streaming (<code class="docutils literal notranslate"><span class="pre">&lt;&lt;</span></code>) to <code class="docutils literal notranslate"><span class="pre">stdout</span></code> / <code class="docutils literal notranslate"><span class="pre">stderr</span></code> to prevent interleaving between multiple threads.</p></li>
<li><p>Avoid using references for <code class="docutils literal notranslate"><span class="pre">std::shared_ptr</span></code> since that subverts the reference counting.
If the original instance goes out of scope and the reference is being used it accesses freed memory.</p></li>
</ul>
</section>
</section>
<section id="filesystem-layout">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Filesystem layout</a><a class="headerlink" href="#filesystem-layout" title="連結到這個標頭"></a></h3>
<p>The filesystem layout of packages and repositories should follow the same conventions in order to provide a consistent experience for users browsing our source code.</p>
<section id="package-layout">
<h4>Package layout<a class="headerlink" href="#package-layout" title="連結到這個標頭"></a></h4>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">src</span></code>: contains all C and C++ code</p>
<ul>
<li><p>Also contains C/C++ headers which are not installed</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">include</span></code>: contains all C and C++ headers which are installed</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package</span> <span class="pre">name&gt;</span></code>: for all C and C++ installed headers they should be folder namespaced by the package name</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;package_name&gt;</span></code>: contains all Python code</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">test</span></code>: contains all automated tests and test data</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">doc</span></code>: contains all the documentation</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">package.xml</span></code>: as defined by <a class="reference external" href="https://www.ros.org/reps/rep-0140.html">REP-0140</a> (may be updated for prototyping)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CMakeLists.txt</span></code>: only ROS packages which use CMake</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">setup.py</span></code>: only ROS packages which use Python code only</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">README</span></code>: can be rendered on GitHub as a landing page for the project</p>
<ul>
<li><p>This can be as short or detailed as is convenient, but it should at least link to project documentation</p></li>
<li><p>Consider putting a CI or code coverage tag in this README</p></li>
<li><p>It can also be <code class="docutils literal notranslate"><span class="pre">.rst</span></code> or anything else that GitHub supports</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">CONTRIBUTING</span></code>: describes the contribution guidelines</p>
<ul>
<li><p>This might include license implication, e.g. when using the Apache 2 License.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">LICENSE</span></code>: a copy of the license or licenses for this package</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CHANGELOG.rst</span></code>: <a class="reference external" href="https://www.ros.org/reps/rep-0132.html">REP-0132</a> compliant changelog</p></li>
</ul>
</section>
<section id="repository-layout">
<h4>Repository layout<a class="headerlink" href="#repository-layout" title="連結到這個標頭"></a></h4>
<p>Each package should be in a subfolder which has the same name as the package.
If a repository contains only a single package it can optionally be in the root of the repository.</p>
</section>
</section>
</section>
<section id="aspirational-practices">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Aspirational Practices</a><a class="headerlink" href="#aspirational-practices" title="連結到這個標頭"></a></h2>
<p>Presently, we don't use adhere to the practices in this section, but believe they would be beneficial to the development process and hope to employ them officially in the future.</p>
<section id="software-development-lifecycle">
<h3><a class="toc-backref" href="#id17" role="doc-backlink">Software Development Lifecycle</a><a class="headerlink" href="#software-development-lifecycle" title="連結到這個標頭"></a></h3>
<p>This section describes step-by-step how to plan, design, and implement a new feature:</p>
<ol class="arabic simple">
<li><p>Task Creation</p></li>
<li><p>Creating the Design Document</p></li>
<li><p>Design Review</p></li>
<li><p>Implementation</p></li>
<li><p>Code Review</p></li>
</ol>
<section id="task-creation">
<h4>Task creation<a class="headerlink" href="#task-creation" title="連結到這個標頭"></a></h4>
<p>Tasks requiring changes to critical parts of ROS 2 should have design reviews during early stages of the release cycle.
If a design review is happening in the later stages, the changes will be part of a future release.</p>
<ul class="simple">
<li><p>An issue should be created in the appropriate <a class="reference external" href="https://github.com/ros2/">ros2 repository</a>, clearly describing the task being worked on.</p>
<ul>
<li><p>It should have a clear success criteria and highlight the concrete improvements expected from it.</p></li>
<li><p>If the feature is targeting a ROS release, ensure this is tracked in the ROS release ticket (<a class="reference external" href="https://github.com/ros2/ros2/issues/607">example</a>).</p></li>
</ul>
</li>
</ul>
</section>
<section id="writing-the-design-document">
<h4>Writing the design document<a class="headerlink" href="#writing-the-design-document" title="連結到這個標頭"></a></h4>
<p>Design docs must never include confidential information.
Whether or not a design document is required for your change depends on how big the task is.</p>
<ol class="arabic simple">
<li><p>You are making a small change or fixing a bug:</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>A design document is not required, but an issue should be opened in the appropriate repository to track the work and avoid duplication of efforts.</p></li>
</ul>
</div></blockquote>
<ol class="arabic simple" start="2">
<li><p>You are implementing a new feature or would like to contribute to OSRF-owned infrastructure (like Jenkins CI):</p></li>
</ol>
<blockquote>
<div><ul class="simple">
<li><p>Design doc is required and should be contributed to <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> to be made accessible on <a class="reference external" href="https://design.ros2.org/">https://design.ros2.org/</a>.</p></li>
<li><p>You should fork the repository and submit a pull request detailing the design.</p></li>
</ul>
<p>Mention the related ros2 issue (for example, <code class="docutils literal notranslate"><span class="pre">Design</span> <span class="pre">doc</span> <span class="pre">for</span> <span class="pre">task</span> <span class="pre">ros2/ros2#&lt;issue</span> <span class="pre">id&gt;</span></code>) in the pull request or the commit message.
Detailed instructions are on the <a class="reference external" href="https://design.ros2.org/contribute.html">ROS 2 Contribute</a> page.
Design comments will be made directly on the pull request.</p>
</div></blockquote>
<p>If the task is planned to be released with a specific version of ROS, this information should be included in the pull request.</p>
</section>
<section id="design-document-review">
<h4>Design document review<a class="headerlink" href="#design-document-review" title="連結到這個標頭"></a></h4>
<p>Once the design is ready for review, a pull request should be opened and appropriate reviewers should be assigned.
It is recommended to include project owner(s) -
maintainers of all impacted packages (as defined by <code class="docutils literal notranslate"><span class="pre">package.xml</span></code> maintainer field, see <a class="reference external" href="https://www.ros.org/reps/rep-0140.html#maintainer-multiple-but-at-least-one">REP-140</a>) - as reviewers.</p>
<ul>
<li><p>If the design doc is complex or reviewers have conflicting schedules, an optional design review meeting can be set up.
In this case,</p>
<p><strong>Before the meeting</strong></p>
<ul class="simple">
<li><p>Send a meeting invite at least one week in advance</p></li>
<li><p>Meeting duration of one hour is recommended</p></li>
<li><p>Meeting invite should list all decisions to be made during the review (decisions requiring package maintainer approval)</p></li>
<li><dl class="simple">
<dt>Meeting required attendees: design pull request reviewers</dt><dd><p>Meeting optional attendees: all OSRF engineers, if applicable</p>
</dd>
</dl>
</li>
</ul>
<p><strong>During the meeting</strong></p>
<ul class="simple">
<li><p>The task owner drives the meeting, presents their ideas and manages discussions to ensure an agreement is reached on time</p></li>
</ul>
<p><strong>After the meeting</strong></p>
<ul class="simple">
<li><p>The task owner should send back meeting notes to all attendees</p></li>
<li><p>If minor issues have been raised about the design:</p>
<ul>
<li><p>The task owner should update the design doc pull request based on the feedback</p></li>
<li><p>Additional review is not required</p></li>
</ul>
</li>
<li><p>If major issues have been raised about the design:</p>
<ul>
<li><p>It is acceptable to remove sections for which there is no clear agreement</p></li>
<li><p>The debatable parts of the design can be resubmitted as a separate task in the future</p></li>
<li><p>If removing the debatable parts is not an option, work directly with package owners to reach an agreement</p></li>
</ul>
</li>
</ul>
</li>
<li><p>Once consensus is reached:</p>
<ul class="simple">
<li><p>Ensure the <a class="reference external" href="https://github.com/ros2/design/">ros2/design</a> pull request has been merged, if applicable</p></li>
<li><p>Update and close the GitHub issue associated with this design task</p></li>
</ul>
</li>
</ul>
</section>
<section id="implementation">
<h4>Implementation<a class="headerlink" href="#implementation" title="連結到這個標頭"></a></h4>
<p>Before starting, go through the <a class="reference internal" href="#pull-requests">Pull requests</a> section for best practices.</p>
<ul class="simple">
<li><p>For each repo to be modified:</p>
<ul>
<li><p>Modify the code, go to the next step if finished or at regular intervals to backup your work.</p></li>
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Git-Tools-Interactive-Staging">Self-review</a> your changes using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span> <span class="pre">-i</span></code>.</p></li>
<li><p>Create a new signed commit using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">-s</span></code>.</p>
<ul>
<li><p>A pull request should contain minimal semantically meaningful commits (for instance, a large number of 1-line commits is not acceptable).
Create new fixup commits while iterating on feedback, or optionally, amend existing commits using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">commit</span> <span class="pre">--amend</span></code> if you don't want to create a new commit every time.</p></li>
<li><p>Each commit must have a properly written, meaningful, commit message.
More instructions <a class="reference external" href="https://chris.beams.io/posts/git-commit/">here</a>.</p></li>
<li><p>Moving files must be done in a separate commit, otherwise git may fail to accurately track the file history.</p></li>
<li><p>Either the pull request description or the commit message must contain a reference to the related ros2 issue, so it gets automatically closed when the pull request is merged.
See this <a class="reference external" href="https://help.github.com/articles/closing-issues-using-keywords/">doc</a> for more details.</p></li>
<li><p>Push the new commits.</p></li>
</ul>
</li>
</ul>
</li>
</ul>
</section>
<section id="code-review">
<h4>Code review<a class="headerlink" href="#code-review" title="連結到這個標頭"></a></h4>
<p>Once the change is ready for code review:</p>
<ul class="simple">
<li><p>Open a pull request for each modified repository.</p>
<ul>
<li><p>Remember to follow <a class="reference internal" href="#pull-requests">Pull requests</a> best practices.</p></li>
<li><p><a class="reference external" href="https://hub.github.com/">GitHub</a> can be used to create pull requests from the command-line.</p></li>
<li><p>If the task is planned to be released with a specific version of ROS, this information should be included in each pull request.</p></li>
</ul>
</li>
<li><p>Package owners who reviewed the design document should be mentioned in the pull request.</p></li>
<li><p>Code review SLO: although reviewing pull requests is best-effort,
it is helpful to have reviewers comment on pull requests within a week and
code authors to reply back to comments within a week, so there is no loss of context.</p></li>
<li><p>Iterate on feedback as usual, amend and update the development branch as needed.</p></li>
<li><p>Once the PR is approved, package maintainers will merge the changes in.</p></li>
</ul>
</section>
</section>
</section>
</section>



           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="ROS-2-On-boarding-Guide.html" class="btn btn-neutral float-left" title="ROS 2 on-boarding guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="Code-Style-Language-Versions.html" class="btn btn-neutral float-right" title="Code style and language versions" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2018, Open Robotics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
    <!-- Theme Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EVD5Z6G6NH"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-EVD5Z6G6NH', {
          'anonymize_ip': false,
      });
    </script> 

</body>
</html>